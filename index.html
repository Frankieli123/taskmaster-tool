<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Master AI - é…ç½®å·¥å…·</title>
    <link rel="stylesheet" href="src/styles/main.css">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
</head>
<body>
    <div id="app">
        <header class="app-header">
            <div class="header-content">
                <h1>
                    <span class="logo">ğŸ¤–</span>
                    Task Master AI
                    <span class="subtitle">é…ç½®å·¥å…·</span>
                </h1>
                <p class="description">ç®¡ç†æ‚¨çš„ Task Master å®‰è£…çš„ API ç«¯ç‚¹å’Œ AI æ¨¡å‹</p>
            </div>
        </header>

        <main class="app-main">
            <div class="container">
                <!-- Navigation Tabs -->
                <nav class="tab-nav" role="tablist" aria-label="ä¸»è¦å¯¼èˆª">
                    <button class="tab-button active" data-tab="providers" role="tab" aria-selected="true" aria-controls="providers-tab" id="tab-providers">
                        <span class="tab-icon" aria-hidden="true">ğŸ”Œ</span>
                        æœåŠ¡å•†
                    </button>
                    <button class="tab-button" data-tab="models" role="tab" aria-selected="false" aria-controls="models-tab" id="tab-models">
                        <span class="tab-icon" aria-hidden="true">ğŸ§ </span>
                        æ¨¡å‹
                    </button>
                    <button class="tab-button" data-tab="config" role="tab" aria-selected="false" aria-controls="config-tab" id="tab-config">
                        <span class="tab-icon" aria-hidden="true">âš™ï¸</span>
                        é…ç½®
                    </button>
                </nav>

                <!-- Tab Content -->
                <div class="tab-content">
                    <!-- Providers Tab -->
                    <div id="providers-tab" class="tab-pane active" role="tabpanel" aria-labelledby="tab-providers">
                        <div class="section-header">
                            <h2>API æœåŠ¡å•†</h2>
                            <button id="add-provider-btn" class="btn btn-primary">
                                <span class="btn-icon" aria-hidden="true">â•</span>
                                æ·»åŠ æœåŠ¡å•†
                            </button>
                        </div>
                        <div id="providers-list" class="providers-grid" role="region" aria-label="APIæœåŠ¡å•†åˆ—è¡¨">
                            <!-- Provider cards will be dynamically generated -->
                        </div>
                    </div>

                    <!-- Models Tab -->
                    <div id="models-tab" class="tab-pane" role="tabpanel" aria-labelledby="tab-models">
                        <div class="section-header">
                            <h2>AI æ¨¡å‹</h2>
                            <div class="header-actions">
                                <div class="provider-filter-group">
                                    <label for="models-provider-filter">ç­›é€‰æœåŠ¡å•†:</label>
                                    <select id="models-provider-filter">
                                        <option value="">å…¨éƒ¨æœåŠ¡å•†</option>
                                    </select>
                                </div>
                                <button id="add-model-btn" class="btn btn-primary">
                                    <span class="btn-icon" aria-hidden="true">â•</span>
                                    æ·»åŠ æ¨¡å‹
                                </button>
                            </div>
                        </div>
                        <div id="models-list" class="models-list-container" role="region" aria-label="AIæ¨¡å‹é…ç½®åˆ—è¡¨">
                            <!-- Model items will be dynamically generated -->
                        </div>
                    </div>

                    <!-- Configuration Tab -->
                    <div id="config-tab" class="tab-pane" role="tabpanel" aria-labelledby="tab-config">
                        <div class="section-header">
                            <h2>é…ç½®ç®¡ç†</h2>
                        </div>

                        <!-- Project Path Section -->
                        <section class="project-path-section" aria-labelledby="project-path-heading">
                            <h3 id="project-path-heading">TaskMaster é¡¹ç›®è·¯å¾„</h3>
                            <div class="project-path-card">
                                <div class="project-path-info">
                                    <div class="path-display">
                                        <label for="project-path-display">å½“å‰è·¯å¾„ï¼š</label>
                                        <span id="project-path-display" role="status" aria-live="polite">æœªé€‰æ‹©é¡¹ç›®</span>
                                    </div>
                                    <div class="path-status">
                                        <span id="project-path-status" class="project-status warning" role="status" aria-live="polite">âš ï¸ è¯·é€‰æ‹© TaskMaster é¡¹ç›®</span>
                                    </div>
                                </div>
                                <div class="project-path-actions">
                                    <button id="select-project-btn" class="btn btn-primary" aria-label="é€‰æ‹©TaskMasteré¡¹ç›®ç›®å½•">
                                        <span class="btn-icon" aria-hidden="true">ğŸ“</span>
                                        é€‰æ‹©é¡¹ç›®
                                    </button>
                                    <button id="clear-project-btn" class="btn btn-secondary" aria-label="æ¸…é™¤å½“å‰é¡¹ç›®è·¯å¾„">
                                        <span class="btn-icon" aria-hidden="true">ğŸ—‘ï¸</span>
                                        æ¸…é™¤
                                    </button>
                                </div>
                            </div>
                        </section>

                        <div class="config-actions" role="region" aria-labelledby="config-actions-heading">
                            <h3 id="config-actions-heading" class="sr-only">é…ç½®æ“ä½œ</h3>
                            <div class="action-card">
                                <h4>å¯¼å‡ºé…ç½®</h4>
                                <p>å°†å½“å‰è®¾ç½®ä¿å­˜åˆ° Task Master é…ç½®æ–‡ä»¶</p>
                                <button id="export-config-btn" class="btn btn-success" aria-describedby="export-config-desc">
                                    <span class="btn-icon" aria-hidden="true">ğŸ’¾</span>
                                    å¯¼å‡ºåˆ° Task Master
                                </button>
                                <span id="export-config-desc" class="sr-only">å°†å½“å‰çš„APIæœåŠ¡å•†å’Œæ¨¡å‹é…ç½®å¯¼å‡ºä¸ºTaskMasteræ ¼å¼çš„é…ç½®æ–‡ä»¶</span>
                            </div>
                            <div class="action-card">
                                <h4>å¯¼å…¥é…ç½®</h4>
                                <p>åŠ è½½ç°æœ‰çš„ Task Master é…ç½®</p>
                                <button id="import-config-btn" class="btn btn-secondary" aria-describedby="import-config-desc">
                                    <span class="btn-icon" aria-hidden="true">ğŸ“¥</span>
                                    ä» Task Master å¯¼å…¥
                                </button>
                                <span id="import-config-desc" class="sr-only">ä»TaskMasteré¡¹ç›®ä¸­å¯¼å…¥ç°æœ‰çš„é…ç½®æ–‡ä»¶</span>
                            </div>
                            <div class="action-card">
                                <h4>é‡ç½®é…ç½®</h4>
                                <p>æ¸…é™¤æ‰€æœ‰è®¾ç½®å¹¶é‡æ–°å¼€å§‹</p>
                                <button id="reset-config-btn" class="btn btn-danger" aria-describedby="reset-config-desc">
                                    <span class="btn-icon" aria-hidden="true">ğŸ—‘ï¸</span>
                                    é‡ç½®å…¨éƒ¨
                                </button>
                                <span id="reset-config-desc" class="sr-only">æ¸…é™¤æ‰€æœ‰å½“å‰é…ç½®ï¼Œæ¢å¤åˆ°é»˜è®¤çŠ¶æ€</span>
                            </div>
                            <div class="action-card">
                                <h3>è‡ªåŠ¨åŠ è½½é…ç½®</h3>
                                <p>ä»å½“å‰TaskMasteré¡¹ç›®è‡ªåŠ¨åŠ è½½é…ç½®</p>
                                <button id="auto-load-config-btn" class="btn btn-primary">
                                    <span class="btn-icon">ğŸ”„</span>
                                    è‡ªåŠ¨åŠ è½½
                                </button>
                            </div>
                            <div class="action-card">
                                <h3>APIä¾›åº”å•†æµ‹è¯•</h3>
                                <p>æµ‹è¯•API Tokenå’Œç½‘ç»œè¿é€šæ€§</p>
                                <button id="test-providers-btn" class="btn btn-secondary">
                                    <span class="btn-icon">ğŸ”Œ</span>
                                    æµ‹è¯•æ‰€æœ‰ä¾›åº”å•†
                                </button>
                            </div>
                            <div class="action-card">
                                <h3>æ¨¡å‹APIæµ‹è¯•</h3>
                                <p>æµ‹è¯•æ¨¡å‹APIå¯¹æ¥åŠŸèƒ½</p>
                                <button id="test-models-api-btn" class="btn btn-secondary">
                                    <span class="btn-icon">ğŸ§ </span>
                                    æµ‹è¯•æ¨¡å‹API
                                </button>
                            </div>
                            <div class="action-card">
                                <h3>TaskMasteré›†æˆæµ‹è¯•</h3>
                                <p>æµ‹è¯•æ¨¡å‹åœ¨TaskMasterä¸­çš„å·¥ä½œçŠ¶æ€</p>
                                <button id="test-taskmaster-btn" class="btn btn-secondary">
                                    <span class="btn-icon">âš™ï¸</span>
                                    æµ‹è¯•TaskMasteré›†æˆ
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- ä¿å­˜æŒ‰é’®å›ºå®šåœ¨å³ä¸‹è§’ -->
        <div class="floating-save-btn">
            <button id="view-logs-btn" class="btn btn-secondary" style="margin-right: 10px;">
                <span class="btn-icon">ğŸ“‹</span>
                æŸ¥çœ‹æ—¥å¿—
            </button>
            <button id="save-btn" class="btn btn-primary">
                <span class="btn-icon">ğŸ’¾</span>
                ä¿å­˜æ›´æ”¹
            </button>
        </div>
    </div>

    <!-- Modals will be dynamically created -->
    <div id="modal-overlay" class="modal-overlay hidden"></div>

    <!-- Log Viewer Container -->
    <div id="log-viewer"></div>

    <script type="module" src="src/main.js"></script>
    <script type="module" src="tests/ConfigTransformer.test.js"></script>
    <script type="module" src="tests/ProviderValidator.test.js"></script>
</body>
</html>
